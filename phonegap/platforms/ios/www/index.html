<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="description" content="A simple app to allocate people to projects.">
    <meta name="author" content="Intuitive Company">
    
    <title>allocate</title>
    <link href="styles/app.css" rel="stylesheet">
    <link rel="shortcut icon" href="favicon.png">
  </head>

  <body>
    <!-- Gulp compiled html templates -->
    <!-- ko if: !auth.currentUser() -->
<div id="auth">
	<div>
		<h1>allocate</h1>
		<div class="alert alert-danger" data-bind="fadeVisible: auth.errorMessage().length > 0, text: auth.errorMessage"></div>
		<form data-bind="submit: auth.signInUp">
			<input name="auth_email" type="text" class="form-control" placeholder="Email" data-bind="fadeVisible: auth.signUpMode">
			<input name="auth_displayName" type="text" class="form-control" placeholder="First and last name" data-bind="fadeVisible: auth.signUpMode">
			<input name="auth_username" type="text" class="form-control" placeholder="Username" autocapitalize="off">
			<input name="auth_password" type="password" class="form-control" placeholder="Password">
			<input name="auth_confirmPassword" type="password" class="form-control" placeholder="Confirm password" data-bind="fadeVisible: auth.signUpMode">
			<button type="submit" class="btn btn-default navbar-btn" data-bind="text: (auth.signUpMode() ? 'Sign up' : 'Sign in')">Sign in</button> or <a data-bind="event: { touchend: auth.showSignUp }, text: (auth.signUpMode() ? 'sign in' : 'sign up')">Sign up</a>
		</form>
	</div>
</div>
<!-- /ko -->
<!-- ko if: auth.currentUser -->
<div id="header" class="screen">
	<div class="logout">
		<h1 data-bind="event: { touchend: auth.scrollTop }">allocate</h1>
		<button class="btn btn-default navbar-btn" data-bind="event: { touchend: auth.logout }">Log out</button>
	</div>
</div>
<!-- /ko -->
<!-- ko if: auth.currentUser -->
<div id="select-project" class="screen" data-bind="fadeVisible: steps.currentStep() == 0">
	<ul data-bind="foreach: selectProject.allProjects" class="all-projects">
		<li data-bind="text: name, click: $parent.selectProject.toggleProject, css: { active: $data.active() }"></li>
	</ul>
	<ul data-bind="foreach: selectProject.allProjects" class="user-projects">
		<!-- ko if: $data.active() -->
		<li data-bind="text: name"></li>
		<!-- /ko -->
	</ul>
</div>
<!-- /ko -->
<!-- ko if: auth.currentUser -->
<div id="steps">
	<ul data-bind="foreach: steps.steps">
		<li data-bind="event: { touchend: function($item) { $parent.steps.changeStep($item) } }, css: { active: $data.stepNumber == $parent.steps.currentStep() }"></li>
	</ul>
</div>
<!-- /ko -->

    <!--
    Scripts
    ================================================== 
    Placed at the end of the document so the pages load faster -->
    <!-- <script src="scripts/app.js"></script> -->
    <script src="phonegap.js"></script>
    <script src="scripts/vendor.js"></script>
    <script src="scripts/main.js"></script>
  </body>
</html>
